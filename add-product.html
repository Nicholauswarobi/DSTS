<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Product</title>
    <link rel="stylesheet" href="styles.css">
     <link rel="icon" href="images/dstsICON.png" type="image/x-icon">

</head>
<body>
    <header>
        <h1>Add Product</h1>
    </header>

    <nav>
        <ul>
            <li><a href="dsts.html">Dashboard</a></li>
            <li><a href="inventory.html">Inventory Updates</a></li>
            <li><a href="expenses.html">Expanses</a></li>
            <li><a href="financial.html">Financial Tracking</a></li>
        </ul>
    </nav>

    <main>
        <form class="form-container" id="addProductForm">
            <label for="productName">Product Name:</label>
            <input type="text" id="productName" required>

            <label for="productQuantity">Quantity:</label>
            <input type="number" id="productQuantity" required>

            <label for="productPrice">Price:</label>
            <input type="number" id="productPrice" step="0.01" required>

            <label for="productPurchase">Purchase:</label> <!-- New Purchase Field -->
            <input type="number" id="productPurchase" step="0.01" required>

            <label for="dateAdded">Date Added:</label>
            <input type="date" id="dateAdded">

            <button type="submit">Add Product</button>
        </form>
    </main>

    <script>
        // Handle Add Product form submission
        document.getElementById('addProductForm').addEventListener('submit', (e) => {
            e.preventDefault();

            const productName = document.getElementById('productName').value;
            const productQuantity = parseInt(document.getElementById('productQuantity').value, 10);
            const productPrice = parseFloat(document.getElementById('productPrice').value);
            const productPurchase = parseFloat(document.getElementById('productPurchase').value); // New Purchase Field
            const dateAdded = document.getElementById('dateAdded').value || new Date().toLocaleDateString();

            if (!productName || productQuantity <= 0 || isNaN(productPrice) || isNaN(productPurchase)) {
                alert('Please fill out all fields correctly.');
                return;
            }

            // Save product to localStorage
            const products = JSON.parse(localStorage.getItem('products')) || [];
            products.push({
                productName,
                productQuantity,
                productPrice,
                productPurchase, // Save Purchase Field
                dateAdded,
            });
            localStorage.setItem('products', JSON.stringify(products));

            // Reset the form and redirect
            alert('Product added successfully!');
            e.target.reset();
            window.location.href = 'inventory.html';
        });
    </script>
</body>
</html>